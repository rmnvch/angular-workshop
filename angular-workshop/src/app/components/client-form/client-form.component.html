<form [formGroup]="clientForm" (ngSubmit)="onSubmit()">
  <div class="input-box">
    <input id="lastname" type="text" formControlName="lastname" required>
    <label for="lastname">Lastname<span>*</span></label>
  </div>

  <div class="input-box">
    <input id="name" type="text" formControlName="name" required>
    <label for="name">Name<span>*</span></label>
  </div>

  <div class="input-box">
    <input id="middlename" type="text" formControlName="middlename">
    <label for="middlename">Middlename </label>
  </div>

  <div class="contacts-block" formArrayName="contacts">
    <div *ngFor="let contact of contacts.controls; let i = index">
      <div class="contact-box" [formGroupName]="i">
        <select id="contact-{{ i }}" formControlName="type">
          <option *ngFor="let option of contactOptions" [value]="option">{{option}}</option>
        </select>
        <input id="value-{{ i }}" type="text" formControlName="value">
      </div>
    </div>

    <button class="add-btn" type="button" (click)="addContact()"><span></span> Add contact</button>
  </div>
  <div class="error-box">
    <div *ngIf="lastname!.invalid && (lastname!.dirty || lastname!.touched)"
    class="alert alert-danger">

      <div *ngIf="lastname!.errors?.['required']">
        Lastname is required.
      </div>
      <div *ngIf="lastname!.errors?.['minlength']">
        Lastname must be at least 2 characters long.
      </div>
    </div>

    <div *ngIf="name!.invalid && (name!.dirty || name!.touched)"
    class="alert alert-danger">
      <div *ngIf="name!.errors?.['required']">
        Name is required.
      </div>
      <div *ngIf="name!.errors?.['minlength']">
        Name must be at least 2 characters long.
      </div>
    </div>
  </div>
  <button class="create-btn" [disabled]="!clientForm.touched" type="submit">Create</button>
</form>
